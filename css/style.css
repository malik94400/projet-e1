:root {
    --radius: 14px;
    --radius-sm: 10px;
    --shadow-1: 0 6px 20px rgba(0, 0, 0, .18);
    --shadow-2: 0 14px 40px rgba(0, 0, 0, .28);
    --ring: #8fb3ff;
    --success: #3ddc97;
    --danger: #ff6b6b;
}

/* Thème 1 : Ocean (bleu/noir, ton actuel) */
:root,
[data-theme="ocean"] {
    --bg: #0b0c10;
    --surface: #111218;
    --surface-2: #171924;
    --text: #e8eaf1;
    --muted: #b8bfd6;
    --primary: #4f8cff;
    --primary-600: #3e73d6;
    --border: color-mix(in srgb, var(--primary) 25%, #000);
    --grad-1: linear-gradient(180deg, rgba(79,140,255,.12), transparent 60%);
}

/* Thème 2 : Retro (violet foncé + vibes néon) */
[data-theme="retro"] {
    --bg: #0a0612;               /* violet très sombre */
    --surface: #120a1e;          /* panel */
    --surface-2: #1a0f2c;        /* hover / cartes */
    --text: #f1e6ff;             /* texte clair légèrement rosé */
    --muted: #ccb9ff;            /* texte secondaire */
    --primary: #c178ff;          /* violet néon doux */
    --primary-600: #a45de6;      /* hover */
    --border: color-mix(in srgb, var(--primary) 35%, #000);
    --grad-1: linear-gradient(180deg, rgba(193,120,255,.16), transparent 60%);
}

/* Reset léger */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font: 500 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

/* Conteneur */
.container {
    width: min(1100px, 92%);
    margin-inline: auto;
}

/* Header / Nav */
header {
    position: sticky; top: 0; z-index: 10;
    background: color-mix(in srgb, var(--bg) 88%, black);
    backdrop-filter: saturate(1.2) blur(6px);
    border-bottom: 1px solid var(--border);
}
.header-inner {
    display: flex; align-items: center; justify-content: space-between; gap: 16px;
    padding: 14px 0;
}
h1 { font-size: clamp(18px, 2vw, 22px); margin: 0; letter-spacing: .2px; }

nav { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
nav a {
    display: inline-flex; align-items: center; justify-content: center;
    height: 36px; padding: 0 12px; border-radius: 999px;
    color: var(--text); text-decoration: none; font-weight: 600;
    border: 1px solid transparent;
    transition: background .15s ease, border-color .15s ease, transform .15s ease;
}
nav a:hover { transform: translateY(-1px); }
nav a[aria-current="page"] {
    border-color: var(--border);
    background: var(--surface-2);
}

/* Bouton Toggle Thème (optionnel) */
.theme-toggle {
    display: inline-flex; align-items: center; gap: 8px;
    height: 36px; padding: 0 12px; border-radius: 999px;
    background: var(--surface-2); color: var(--text);
    border: 1px solid var(--border); cursor: pointer;
}

/* Champs / Inputs */
.input {
    width: 100%; height: 42px; padding: 0 14px;
    border-radius: 12px; border: 1px solid var(--border);
    background: var(--surface); color: var(--text);
    outline: none;
}
.input:focus-visible {
    border-color: var(--ring);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--ring) 30%, transparent);
}

/* Boutons */
.btn, a.btn {
    display: inline-flex; align-items: center; justify-content: center; gap: 8px;
    height: 40px; padding: 0 14px; border-radius: 12px;
    color: var(--text); text-decoration: none; font-weight: 700; cursor: pointer;
    border: 1px solid color-mix(in srgb, var(--primary) 45%, black);
    background: linear-gradient(180deg, color-mix(in srgb, var(--primary) 22%, #000), color-mix(in srgb, var(--primary) 10%, #000));
    box-shadow: 0 6px 20px color-mix(in srgb, var(--primary) 18%, transparent);
    transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
}
.btn:hover { transform: translateY(-1px); filter: brightness(1.02); }
.btn:active { transform: translateY(0); }
.btn.secondary {
    background: var(--surface-2);
    border-color: var(--border);
    box-shadow: none;
}

/* -----------------------------------------
   SECTION: Accueil / grille utilisateurs
   ----------------------------------------- */
.search-wrap { margin: 16px 0 22px; }
#users {
    display: grid; gap: 16px;
    grid-template-columns: 1fr;
}

/* User Card v2 */
.user-card {
    position: relative;
    border-radius: 16px;
    background: var(--surface);
    border: 1px solid var(--border);
    box-shadow: var(--shadow-1);
    overflow: clip;
    padding: 16px;
    transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    background-image: var(--grad-1);
}
.user-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-2); }

/* Header carte: avatar + titre + actions */
.user-card .top {
    display: grid; grid-template-columns: auto 1fr auto; gap: 12px; align-items: center;
    margin-bottom: 10px;
}
.user-card .avatar {
    width: 38px; height: 38px; border-radius: 50%;
    border: 1px solid var(--border);
    background: var(--surface-2);
    display: inline-block; flex-shrink: 0;
    box-shadow: 0 4px 16px rgba(0,0,0,.18);
}
.user-card h3 {
    margin: 0; font-size: 16px; line-height: 1.2;
    display: flex; align-items: center; gap: 8px;
}
.user-card .meta {
    color: var(--muted); font-size: 13px; margin: 2px 0 0;
}

/* Badges / tag projets */
.badges { display: flex; gap: 8px; flex-wrap: wrap; margin: 8px 0; }
.badge {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 12px; padding: 6px 8px; border-radius: 999px;
    border: 1px solid var(--border);
    background: color-mix(in srgb, var(--primary) 9%, var(--surface));
}

/* Métriques */
.user-metrics { margin: 10px 0 12px; }
.user-metrics .metrics { display: grid; gap: 6px; }
.user-metrics .bar {
    height: 8px; border-radius: 999px; background: rgba(255,255,255,.12); overflow: hidden;
}
.user-metrics .bar > span {
    display: block; height: 100%; width: 0;
    background: linear-gradient(90deg, var(--success), var(--primary));
    transition: width .4s ease;
}

/* Actions en bas de carte */
.user-card .actions { display: flex; gap: 10px; margin-top: 8px; }

/* -----------------------------------------
   NOTE / panneaux info (page user)
   ----------------------------------------- */
.note {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 12px 14px;
    box-shadow: var(--shadow-1);
}

/* -----------------------------------------
   Loader
   ----------------------------------------- */
.loader {
    width: 34px; height: 34px; border-radius: 50%;
    border: 3px solid color-mix(in srgb, var(--primary) 35%, transparent);
    border-top-color: var(--primary);
    animation: spin 1s linear infinite;
    margin: 14px auto;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* -----------------------------------------
   Scroll reveal (gracieux + A11Y)
   ----------------------------------------- */
.reveal {
    opacity: 0; transform: translateY(12px) scale(.98);
    transition: opacity .4s ease, transform .4s ease;
    will-change: opacity, transform;
}
.reveal.is-visible { opacity: 1; transform: translateY(0) scale(1); }

@media (prefers-reduced-motion: reduce) {
    .reveal, .reveal.is-visible { opacity: 1 !important; transform: none !important; transition: none !important; }
    .user-card, .btn, nav a { transition: none !important; }
}

/* -----------------------------------------
   Responsive
   ----------------------------------------- */
@media (max-width: 420px) {
    nav a { padding: 8px 10px; height: 34px; }
    .header-inner { padding: 10px 0; }
}

@media (min-width: 560px) {
    #users { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (min-width: 900px) {
    #users { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* -----------------------------------------
   Focus visible
   ----------------------------------------- */
:where(a, button, input, .btn):focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--ring) 50%, transparent);
}

/* -----------------------------------------
   Petits utilitaires
   ----------------------------------------- */
.muted { color: var(--muted); }
.hidden { display: none !important; }


/* -----------------------------------------
   Toggle thème (optionnel)
   ----------------------------------------- */
.theme-toggle {
    display: inline-flex; align-items: center; gap: 10px;
    background: none; border: none; color: var(--text);
    cursor: pointer; font-weight: 600;
}
.theme-toggle .track {
    position: relative; width: 46px; height: 22px;
    background: var(--surface-2);
    border-radius: 999px; border: 1px solid var(--border);
}
.theme-toggle .thumb {
    position: absolute; top: 2px; left: 2px;
    width: 18px; height: 18px;
    border-radius: 50%;
    background: var(--primary);
    transition: left .25s ease;
}
[data-theme="retro"] .theme-toggle .thumb { left: 24px; }